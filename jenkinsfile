pipeline{
    //Directives
   agent any
    stages {

        stage('build'){
            steps{
                sh 'rm -rf node_modules'
                sh 'npm audit fix --force'
                sh 'npm install 20'
                sh 'npm audit fix'

                echo 'success'
            }
        }

        stage ('test'){

            steps{
                 sh 'npm run dev'
                 echo 'success'
            }
        }

        stage ('deploy'){

            steps {
                 echo "deploying"
            }
        } 

    }

}